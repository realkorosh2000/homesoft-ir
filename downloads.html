<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Downloads</title>
<style>
body { font-family: Arial; background: #eef; margin: 20px; }
.container { max-width: 700px; margin: auto; }
.package { display: flex; align-items: center; margin: 10px 0; }
.package img { width: 50px; height: 50px; margin-right: 10px; }
.package button { margin-left: auto; padding: 5px 10px; }
</style>
</head>
<body>

<h1>Download Software</h1>
<div class="container" id="packages"></div>

<script>
fetch('download_software/Lists.json')
  .then(res => {
    if(!res.ok) throw new Error("Cannot load Lists.json");
    return res.json();
  })
  .then(packages => {
    const container = document.getElementById('packages');
    if(packages.length === 0){
      container.innerHTML = "<h2>Cannot find source download_software/ — Please try again later.</h2>";
      return;
    }
    packages.forEach(pkg => {
      const div = document.createElement("div");
      div.className = "package";
      div.innerHTML = `
        <img src="${pkg.icon}" alt="${pkg.name} icon">
        <span>${pkg.name}</span>
        <button onclick="window.location='${pkg.file}'">Download</button>
      `;
      container.appendChild(div);
    });
  })
  .catch(err => {
    document.getElementById('packages').innerHTML = "<h2>Cannot find source download_software/ — Please try again later.</h2>";
    console.error(err);
  });
</script>

</body>
</html>
